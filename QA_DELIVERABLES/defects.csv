id,severity,category,summary,expected,actual,impact,fix,retest_steps
ISS-001,Blocker,Calculation,"Rürup calculator uses annual compounding instead of monthly for monthly contributions","Monthly compounding: FV = 495,000 EUR for 500/month over 30 years at 6.5%","Annual compounding: FV = 507,000 EUR (2.4% overestimation)","Customers see inflated Rürup benefits (~12,000 EUR error over 30 years), may make wrong investment decisions","Change TaxCalculator.tsx line 323 from annual to monthly compounding: for (month=0; month<12; month++) { value = (value + monthlyContrib) * (1 + monthlyReturn) }","Test case: 500 EUR/month, 6.5% return, 30 years. Expected: 495k EUR. Also test 1k/month for 20 years."
ISS-002,Blocker,Calculation,"ETF tax calculation multiplies Vorabpauschale by year count incorrectly","Calculate Vorabpauschale each year on that year's portfolio value, sum cumulatively","Current: vorabpauschaleeTax * year assumes same tax every year","Overstates ETF tax burden, makes ETFs appear less attractive than reality","Rewrite calculateETFTaxes() to loop through years, calculate VP for each year's value, track cumulative tax paid","Test case: 100k portfolio, 7% return, 1% Basiszins. Year 1 VP should be different from Year 10."
ISS-003,High,Calculation,"Riester government subsidy calculations completely missing","Calculate Grundzulage (175 EUR) + Kinderzulage (300 EUR/child) + compound interest","Only stores user-entered values, no calculation or validation","Cannot provide Riester advice, missing 175-975 EUR/year in subsidies, underestimates Riester value","Implement calculateRiesterBenefit() function: validate 4% contribution requirement, add subsidies, calculate future value","Test: 60k income, 2 children, 2400 EUR contribution. Expected subsidies: 175 + 600 = 775 EUR/year."
ISS-004,High,Calculation,"Occupational pension tax benefit calculations missing","Calculate tax-free contribution (max 584 EUR/month), tax savings (taxRate * contribution), social security savings (~20%)","Only stores user-entered values, no tax benefit calculations","Missing ~20% social security savings + income tax savings, underestimates occupational pension value","Implement calculateOccupationalPension() function with tax-free limits (§3 Nr.63 EStG), calculate gross vs. net cost","Test: 500 EUR/month contribution, 42% tax rate. Expected tax savings: 210 EUR/month + ~100 EUR social security."
ISS-005,Medium,Calculation,"Pension gap calculation excludes Riester and Rürup from covered income","Gap = 0.8*netIncome - (statutory + riester + ruerup + occupational + private)","Gap = 0.8*netIncome - (statutory + private) only","Shows larger pension gap than reality, overstates additional coverage needs","Dashboard.tsx line 226: Change to pensionGap = Math.max(0, netMonthly * 0.8 - totalRetirementIncome)","Test: 4000 EUR income, 2000 statutory, 300 riester, 200 ruerup. Expected gap: 1700 EUR, not 2000 EUR."
ISS-006,Low,Data,"2024 tax parameters hardcoded, will be outdated in 2025","Year-based parameter lookup: getRuerupDeductibleRate(2025) returns 1.00 (100%)","Hardcoded: DEFAULT_RUERUP_DEDUCTIBLE_RATE = 0.96 (96% for 2024)","In 2025, Rürup tax savings will be understated by ~463 EUR for high earners","Create getParametersForYear(year) utility, update parameters annually","Test: Calculate tax savings for 27566 EUR contribution in 2024 (96%) vs 2025 (100%). Difference: 463 EUR at 42% tax rate."
ISS-007,Low,Calculation,"Fee calculation applies after returns, inflating fee base slightly","Fees on beginning-of-period value: terFee = 500 * (0.0075/12) = 0.313","Fees on end-of-period value: terFee = 503.125 * (0.0075/12) = 0.314","Negligible impact (~1-2 EUR over 30 years), but technically suboptimal","calculatePension.ts line 91: Calculate terFee and policyFee before applying grossReturn","Test: Compare 500 EUR contribution over 360 months with fees-first vs fees-after. Difference should be < 5 EUR total."
ISS-008,Medium,Testing,"No unit test coverage for calculation functions","Jest/Vitest test suite with 80%+ coverage, all critical calculations tested","No tests found in repository","Cannot verify fixes work, risk of regression when making changes","Create __tests__/ folders, write tests for all calculation functions using provided test cases","Run: npm test. Should see 50+ tests passing covering calculatePension, Dashboard summary, TaxCalculator."
ISS-009,Low,Data,"Input validation missing for contribution limits and age ranges","Age: 18-80, Rürup max: 27566 EUR/year, Riester max: 2100 EUR/year","No validation on inputs, allows impossible values","Users can enter invalid data, get nonsense results","Add validation to NumberInput components and calculation functions: if (age < 18 || age > 80) showError()","Test: Try entering age 10, age 100, Rürup contribution 50000. Should show validation errors."
ISS-010,Low,Visualization,"Chart y-axis zero baseline not explicitly annotated","If not starting at zero, show axis break with annotation","Recharts default behavior (starts at zero) but not documented","Minor clarity issue, could mislead if future changes alter axis","Add domain={[0, 'auto']} to YAxis config, add comment explaining zero baseline requirement","Visual test: Check all charts start at zero or have clear break notation. Test with very large values (1M+)."
